<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1" />
      <title>Spotify</title>
      <link
         href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
         rel="stylesheet"
         integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
         crossorigin="anonymous"
      />
      <link
         rel="stylesheet"
         href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
      />
      <!-- <link rel="stylesheet" href="assets/css/style.css" />
      <link rel="stylesheet" href="assets/css/circular-font.css" /> -->

      <link
         href="http://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"
         rel="stylesheet"
      />
      <link
         href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css"
         rel="stylesheet"
      />
      <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
      <script src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
      <style>
         audio {
            width: 100%;
            height: 80px;
            cursor: pointer;
            position: relative;
         }

         audio.duration {
            background-color: rgb(0, 0, 255);
         }

         audio::-webkit-media-controls-play-button {
            /* background-color: rgba(230, 230, 255, 1); */
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
         }

         #audio-player {
            height: 50px;
            width: 500px;
            overflow: hidden;
            background-color: #2b2b2b;
            color: white;
            -webkit-user-select: none; /* webkit (safari, chrome) browsers */
            -moz-user-select: none; /* mozilla browsers */
            -khtml-user-select: none; /* webkit (konqueror) browsers */
            -ms-user-select: none; /* IE10+ */
         }

         #controls {
            height: 50px;
            background-color: #808080;
            width: 350px;
         }

         .time {
            font-size: 10px;
            color: white;
            position: relative;
            top: 14px;
            margin: 5px;
         }

         .ui-progressbar {
            background: #2b2b2b;
         }

         .ui-progressbar-value {
            background: white;
         }

         #progressbar,
         #volume {
            height: 10px;
            display: inline-block;
            border-radius: 0px;
            border: none;
            position: relative;
            top: 16px;
         }

         #progressbar {
            width: 150px;
         }

         #play,
         #mute {
            font-size: 16px;
            width: 20px;
            position: relative;
            top: 17px;
         }

         #play {
            margin-left: 15px;
         }

         #volume {
            width: 50px;
         }

         #more-info-box {
            display: inline-block;
            width: 150px;
            height: 50px;
            position: relative;
            left: 350px;
            top: -50px;
            padding-top: 18px;
            text-align: center;
            font-family: sans-serif;
            font-size: 12px;
            color: white;
         }

         #more-info-box,
         #more-info-box > span {
            cursor: context-menu;
         }

         #info-tray {
            display: inline-block;
            color: white;
            position: relative;
            width: 100%;
            top: -65px;
            height: 50px;
            padding: 5px;
         }

         #player {
            display: flex;
            align-items: center;
            justify-content: space-between;
            width: 300px;
            padding: 10px;
            border: 1px solid #000;
         }
      </style>
   </head>
   <body>
      <!-- <div
         class="container-fluid position-sticky bottom-0 p-2 d-md-block d-none"
         id="music-bar"
      >
         <div class="row justify-content-between">
            <div class="col-2 d-flex align-items-center">
               <img src="" width="18%" class="now-playing-img me-2" />
               <div
                  class="me-2 friends d-flex flex-column justify-content-center"
               >
                  <p class="small now-playing-artist"></p>
                  <p class="secondary-col small now-playing-title"></p>
               </div>
               <i class="bi bi-heart fs-4 d-none d-md-block"></i>
            </div>

            <div class="audio-player col-6 flex-grow-1 justify-content-center">
               <div class="audio-controls d-flex flex-column">
                  <div>
                     <button class="skip-button d-none d-md-inline-block">
                        <i class="bi bi-skip-start"></i>
                     </button>
                     <button class="play-pause">
                        <i class="bi bi-play-fill color1 fs-1"></i>
                     </button>
                     <button class="skip-button d-none d-md-inline-block">
                        <i class="bi bi-skip-end"></i>
                     </button>
                  </div>
                  <div class="progress-bar-container d-none d-md-block">
                     <div class="progress-bar">
                        <div class="progress">
                           <p class="color1">00</p>
                        </div>
                     </div>
                  </div>
                  <audio id="audio" src=""></audio>
               </div>
            </div>

            <div class="col-3 align-items-center d-flex justify-content-end">
               <svg
                  class="d-none d-md-block"
                  width="20"
                  height="55"
                  viewBox="0 0 57 55"
                  fill="white"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path
                     fill-rule="evenodd"
                     clip-rule="evenodd"
                     d="M25.4793 15.0376L2.53887 39.3014C-0.89648 42.922 -0.734106 48.466 2.88256 51.9051C6.50877 55.3532 12.3393 55.4985 16.1468 52.2409L41.6637 30.427C45.5762 30.4542 49.4507 29.0931 52.3135 26.3437C58.2299 20.736 58.0391 11.3626 51.7409 5.41914C45.5287 -0.515253 35.6708 -0.687658 29.7734 4.92007C26.882 7.66949 25.4506 11.3172 25.4793 15.0376ZM37.3218 27.5324L12.6921 48.5931C10.9267 50.0994 8.2166 50.0359 6.53709 48.4298C4.85759 46.8328 4.79124 44.2649 6.37532 42.5862C12.7403 35.8623 24.1057 23.8393 28.524 19.1662L37.3218 27.5324ZM42.4749 25.4907L30.6711 14.2663C30.8237 12.0976 31.7301 10.0105 33.4287 8.3953C37.3698 4.64774 43.9446 4.92903 48.1147 8.89437C52.3135 12.8597 52.5998 19.1208 48.6873 22.8683C46.9505 24.4744 44.7556 25.3455 42.4749 25.4907Z"
                     fill="white"
                  />
               </svg>
               <svg
                  class="ms-2 d-none d-md-block"
                  width="20"
                  height="47"
                  viewBox="0 0 51 47"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path
                     fill-rule="evenodd"
                     clip-rule="evenodd"
                     d="M48.095 41.4707C48.095 41.2892 47.9421 41.1531 47.7513 41.1531C43.7911 41.1531 6.28846 41.1531 2.32826 41.1531C2.14695 41.1531 1.99426 41.2892 1.99426 41.4707C1.99426 42.4144 1.99426 45.1729 1.99426 46.1257C1.99426 46.2981 2.14695 46.4433 2.32826 46.4433C6.28846 46.4433 43.7911 46.4433 47.7513 46.4433C47.9421 46.4433 48.095 46.2981 48.095 46.1257V41.4707ZM48.095 27.0794C48.095 26.907 47.9421 26.7618 47.7513 26.7618C43.7911 26.7618 6.28846 26.7618 2.32826 26.7618C2.14695 26.7618 1.99426 26.907 1.99426 27.0794C1.99426 28.0321 1.99426 30.7907 1.99426 31.7344C1.99426 31.9068 2.14695 32.052 2.32826 32.052C6.28846 32.052 43.7911 32.052 47.7513 32.052C47.9421 32.052 48.095 31.9068 48.095 31.7344V27.0794ZM0 8.77719C0 4.18575 3.91249 0.465271 8.73152 0.465271H41.3957C46.2148 0.465271 50.175 4.18575 50.175 8.77719C50.175 13.3596 46.2148 17.0799 41.3957 17.0799H8.73152C3.91249 17.0799 0 13.3596 0 8.77719ZM5.56307 8.77719C5.56307 7.10757 6.98522 5.76452 8.73152 5.76452H41.3957C43.142 5.76452 44.5642 7.10757 44.5642 8.77719C44.5642 10.4377 43.142 11.7897 41.3957 11.7897H8.73152C6.98522 11.7897 5.56307 10.4377 5.56307 8.77719Z"
                     fill="white"
                  />
               </svg>
               <svg
                  class="ms-2"
                  width="20"
                  height="50"
                  viewBox="0 0 59 50"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path
                     fill-rule="evenodd"
                     clip-rule="evenodd"
                     d="M9.93571 49.2968H14.6116V44.3786H7.3592V49.2968H9.93571ZM58.6032 6.71246C58.6032 3.40953 55.8359 0.732666 52.3051 0.732666H28.2576C24.7268 0.732666 21.9595 3.40953 21.9595 6.71246V43.2716C21.9595 46.5745 24.7268 49.2514 28.2576 49.2514H52.3051C55.8359 49.2514 58.6032 46.5745 58.6032 43.2716V6.71246ZM53.4502 6.71246V43.2716C53.4502 43.8614 52.9731 44.3422 52.3051 44.3422H28.2576C27.5896 44.3422 27.1125 43.8614 27.1125 43.2716V6.71246C27.1125 6.12265 27.5896 5.64166 28.2576 5.64166H52.3051C52.9731 5.64166 53.4502 6.12265 53.4502 6.71246ZM40.2813 25.0783C44.3847 25.0783 47.6292 28.2178 47.6292 32.0923C47.6292 35.9669 44.3847 39.1157 40.2813 39.1157C36.178 39.1157 32.9335 35.9669 32.9335 32.0923C32.9335 28.2178 36.178 25.0783 40.2813 25.0783ZM12.0351 0.732666H6.50036C2.96958 0.732666 0.202209 3.39138 0.202209 6.66709V29.2794C0.202209 32.5551 2.96958 35.2138 6.50036 35.2138H14.6116V30.3048H6.50036C5.83237 30.3048 5.35524 29.842 5.35524 29.2794V6.66709C5.35524 6.1045 5.83237 5.64166 6.50036 5.64166H14.6116V0.732666H12.0351ZM40.2813 10.9409C42.2853 10.9409 44.003 12.5107 44.003 14.4434C44.003 16.3853 42.2853 17.9552 40.2813 17.9552C38.2774 17.9552 36.5597 16.3853 36.5597 14.4434C36.5597 12.5107 38.2774 10.9409 40.2813 10.9409Z"
                     fill="white"
                  />
               </svg>
               <svg
                  class="ms-2 d-none d-md-block"
                  width="20"
                  height="55"
                  viewBox="0 0 58 55"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
               >
                  <path
                     fill-rule="evenodd"
                     clip-rule="evenodd"
                     d="M0.30078 24.0088C-0.0236701 26.1412 -0.0045848 28.3189 0.348493 30.4694C0.882882 33.7632 2.95379 36.6397 5.98835 38.3184C14.3 42.9189 33.9863 53.8168 33.9863 53.8168C34.8547 54.2887 35.9144 54.2887 36.7828 53.8168C37.6416 53.345 38.1762 52.4738 38.1762 51.5301V2.64857C38.1762 1.70487 37.6416 0.824625 36.7828 0.352777C35.9144 -0.11907 34.8547 -0.119106 33.9863 0.361816C33.9863 0.361816 14.3 11.2507 5.98835 15.8512C2.95379 17.5299 0.882882 20.4154 0.348493 23.7093L0.30078 24.0088ZM42.7566 7.40337C42.7566 7.30356 42.8043 7.20368 42.8998 7.14923C42.9856 7.08571 43.0996 7.0766 43.195 7.1129C51.7261 10.1255 57.7952 17.9381 57.7952 27.0847C57.7952 36.2404 51.7261 44.0441 43.195 47.0658C43.0996 47.102 42.9856 47.0839 42.8998 47.0294C42.8139 46.9659 42.7566 46.8751 42.7566 46.7753C42.7566 45.6682 42.7566 42.8282 42.7566 41.8392C42.7566 41.6305 42.8805 41.4308 43.0809 41.3401C48.5107 38.6814 52.2322 33.2913 52.2322 27.0847C52.2322 20.8781 48.5107 15.4972 43.0809 12.8386C42.8805 12.7387 42.7566 12.5482 42.7566 12.3304C42.7566 11.3414 42.7566 8.50133 42.7566 7.40337ZM5.84521 24.544V24.5259C6.12195 22.8109 7.21026 21.3047 8.78479 20.4336L32.6026 7.24901C32.6026 7.24901 32.6026 40.9135 32.6026 46.2218C32.6026 46.367 32.5268 46.5031 32.3932 46.5757C32.2596 46.6483 32.107 46.6483 31.9734 46.5757C25.5989 43.0459 14.5008 36.9119 8.78479 33.7451C7.21026 32.874 6.12195 31.3677 5.84521 29.6527C5.56847 27.9559 5.56847 26.2228 5.84521 24.5259V24.544ZM42.7566 17.6297C42.7566 17.5027 42.833 17.3846 42.9475 17.3302C43.0715 17.2757 43.2145 17.2848 43.3195 17.3665C46.3636 19.6169 48.3294 23.1375 48.3294 27.0847C48.3294 31.041 46.3636 34.5527 43.3195 36.8121C43.2145 36.8847 43.0715 36.8937 42.9475 36.8393C42.833 36.7848 42.7566 36.6669 42.7566 36.549C42.7566 33.5001 42.7566 20.6786 42.7566 17.6297ZM0.30078 23.9996L0.339547 23.7273C0.330004 23.8181 0.310323 23.9088 0.30078 23.9996L0.186716 24.6984L0.30078 24.0088V23.9996Z"
                     fill="white"
                  />
               </svg>

               <input
                  type="range"
                  id="volume"
                  name="volume"
                  min="0"
                  max="11"
                  class="d-none d-md-block"
               />
               <svg
                  width="20"
                  height="48"
                  viewBox="0 0 50 48"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                  class="ms-2 d-none d-md-block"
               >
                  <path
                     fill-rule="evenodd"
                     clip-rule="evenodd"
                     d="M5.87629 38.566V35.4264C5.87629 33.9655 4.63575 32.7767 3.10892 32.7767C1.5821 32.7767 0.341553 33.9655 0.341553 35.4264V47.522H13.0333C14.5601 47.522 15.8006 46.3333 15.8006 44.8724C15.8006 43.4115 14.5601 42.2319 13.0333 42.2319H9.8842L20.0948 32.5137C21.1445 31.4793 21.1445 29.8005 20.0948 28.7661C18.9497 27.7407 17.232 27.7407 16.1824 28.7751L5.87629 38.566ZM40.1344 5.92693L29.9238 15.6451C28.8741 16.6796 28.8741 18.3491 29.9238 19.3836C31.0689 20.418 32.7866 20.4089 33.8363 19.3745L44.1423 9.58364V12.7324C44.1423 14.1933 45.3829 15.3729 46.9097 15.3729C48.4365 15.3729 49.6771 14.1933 49.6771 12.7324V0.627686H36.9853C35.4585 0.627686 34.218 1.81631 34.218 3.27722C34.218 4.73813 35.4585 5.92693 36.9853 5.92693H40.1344Z"
                     fill="white "
                  />
               </svg>
            </div>
         </div>
      </div> -->
      <div class="mt-5">
         <audio controls>
            <source
               src="https://cdns-preview-b.dzcdn.net/stream/c-bcf686b9b7b146a3ce3d160cbfa2d1b5-7.mp3"
               type="audio/mpeg"
            />
         </audio>

         <audio
            id="player"
            src="https://cdns-preview-b.dzcdn.net/stream/c-bcf686b9b7b146a3ce3d160cbfa2d1b5-7.mp3"
         ></audio>
         <div>
            <button onclick="document.getElementById('player').play()">
               Play
            </button>
            <button onclick="document.getElementById('player').pause()">
               Pause
            </button>
            <button onclick="document.getElementById('player').volume += 0.1">
               Vol +
            </button>
            <button onclick="document.getElementById('player').volume -= 0.1">
               Vol -
            </button>
         </div>
      </div>

      <audio id="player">
         <source
            src="http://www.noiseaddicts.com/samples_1w72b820/2543.mp3"
            type="audio/mpeg"
         />
      </audio>

      <div id="audio-player">
         <div id="controls">
            <i id="play" class="fa fa-pause"></i>
            <span id="start-time" class="time">00:00</span>
            <div id="progressbar"></div>
            <span id="time" class="time">00:00</span>
            <i id="mute" class="fa fa-volume-up"></i>
            <div id="volume"></div>
         </div>
         <div id="more-info-box">
            <span id="more-info">MORE INFO</span>
         </div>
         <div id="info-tray">
            Track: <span id="track">Semper Fidelis March</span>
         </div>
      </div>

      <div class="mt-5">
         <div>
            <div id="player">
               <span id="currentTime">0:00</span>
               <input
                  id="progressBar"
                  type="range"
                  min="0"
                  max="100"
                  value="0"
               />
               <span id="duration">0:00</span>
            </div>
         </div>
         <audio id="audio">
            <source
               src="http://www.noiseaddicts.com/samples_1w72b820/2543.mp3"
               type="audio/mpeg"
            />
         </audio>
      </div>

      <script
         src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
         integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
         crossorigin="anonymous"
      ></script>
      <!-- <script src="script/script.js"></script> -->
      <script src="./script/player.js"></script>
      <script>
         var audio_player = $("#audio-player");
         var play_button = $("#play");
         var progress_bar = $("#progressbar");
         var time = $("#time");
         var mute_button = $("#mute");
         var volume_bar = $("#volume");
         var more_info = $("#more-info-box");
         var info_tray = $("#info-tray");
         var player = document.getElementById("player");
         var duration = 0;
         var volume = 0.75;

         console.log("player: ", player);

         player.onloadedmetadata = function () {
            duration = player.duration;
            progress_bar.progressbar("option", { max: duration });
         };

         player.load();
         player.volume = 0.75;
         player.addEventListener(
            "timeupdate",
            function () {
               progress_bar.progressbar("value", player.currentTime);
               time.text(getTime(player.currentTime));
            },
            false
         );

         function getTime(t) {
            var m = ~~(t / 60),
               s = ~~(t % 60);
            return (m < 10 ? "0" + m : m) + ":" + (s < 10 ? "0" + s : s);
         }

         function getProgressBarClickInfo(progress_bar, e) {
            var offset = progress_bar.position();
            var x = e.pageX - offset.left; // or e.offsetX (less support, though)
            var y = e.pageY - offset.top; // or e.offsetY
            var max = progress_bar.progressbar("option", "max");
            var value = (x * max) / progress_bar.width();

            return { x: x, y: y, max: max, value: value };
         }

         volume_bar.progressbar({
            value: player.volume * 100,
         });

         volume_bar.click(function (e) {
            var info = getProgressBarClickInfo($(this), e);
            volume_bar.progressbar("value", info.value);
            player.volume = info.value / info.max;
         });

         progress_bar.progressbar({
            value: player.currentTime,
         });

         progress_bar.click(function (e) {
            var info = getProgressBarClickInfo($(this), e);
            player.currentTime = (player.duration / info.max) * info.value;
         });

         play_button.click(function () {
            player[player.paused ? "play" : "pause"]();
            $(this).toggleClass("fa-play", !player.paused);
            $(this).toggleClass("fa-pause", player.paused);
         });

         mute_button.click(function () {
            if (player.volume == 0) {
               player.volume = volume;
            } else {
               volume = player.volume;
               player.volume = 0;
            }

            volume_bar.progressbar("value", player.volume * 100);

            $(this).toggleClass("fa-volume-up", player.volume != 0);
            $(this).toggleClass("fa-volume-off", player.volume == 0);
         });

         more_info.click(function () {
            audio_player.animate(
               {
                  height: audio_player.height() == 50 ? 100 : 50,
               },
               1000
            );
         });

         //  *****************************************
         var audio = document.getElementById("audio");
         var progressBar = document.getElementById("progressBar");
         var currentTime = document.getElementById("currentTime");
         var duration = document.getElementById("duration");

         audio.addEventListener("timeupdate", function () {
            var progress = (audio.currentTime / audio.duration) * 100;
            progressBar.value = progress;

            currentTime.textContent = formatTime(audio.currentTime);
            duration.textContent = formatTime(audio.duration);
         });

         progressBar.addEventListener("input", function () {
            var time = (progressBar.value / 100) * audio.duration;
            audio.currentTime = time;
         });

         function formatTime(time) {
            var minutes = Math.floor(time / 60);
            var seconds = Math.floor(time % 60);

            if (seconds < 10) {
               seconds = "0" + seconds;
            }

            return minutes + ":" + seconds;
         }
      </script>
   </body>
</html>
